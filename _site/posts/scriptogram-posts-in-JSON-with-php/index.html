<!DOCTYPE html>
<html>
<head>
    
    <!-- Title
    =================================== -->
    <title>Retrieving Recent Posts from Scriptogram in JSON Format Using PHP</title>

    <!-- Meta
    =================================== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/feed.xml">

    <!-- CSS
    =================================== -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">

    <!-- Javascript
    =================================== -->
    <script type="text/javascript" src="/blog/assets/js/modernizr.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="/blog/assets/js/js.js"></script>
</head>
<body>

    <!-- Header
    =================================== -->
    <header class="header">
        <a href="/blog/">
            <img src="/blog/assets/img/logo.png" alt="Jim Nielsen" title="Jim Nielsen, Designer" class="site-logo" />
            <h1 class="site-title">Jim Nielsen, Designer</h1>
        </a>
    </header>

    <!-- Navigation
    =================================== -->
    <nav class="navigation hide">
        <ul class="navigation-list">
            <li><a href="/blog/" class="navigation-item">Jim’s Blog</a></li>
            <li><a href="/blog/archive/" class="navigation-item">Archive</a></li>
            <li><a href="/blog/tags/" class="navigation-item">Tags</a></li>
            <li><a href="/blog/feed.xml" class="navigation-item">RSS</a></li>
            <li><a href="#" id="top" class="navigation-item icon-arrow-up">Top</a></li>
            <li><a href="http://jim-nielsen.com/"  class="navigation-item icon-home">Jim’s Portfolio &raquo;</a></li>
            
        </ul>
        <img src="/blog/assets/img/avatar.jpg" width="40" height="40" class="avatar" title="Navigation"/>
    </nav>

    <main class="wrapper">
        <article class="article">

    <!-- Article Header
    =================================== -->
    <header class="article-header">
        <time class="date">8 Jul, 2013</time>
        <h1 class="title"><a href="/blog/posts/scriptogram-posts-in-JSON-with-php">Retrieving Recent Posts from Scriptogram in JSON Format Using PHP</a></h1>
        
    </header>


    <!-- Article Content
    =================================== -->
    <div class="content">
        <p>Do you use <a href="http://scriptogr.am/">Scriptogr.am</a>? Do you want to programmatically retrieve your most recent posts from the service using PHP? It&#39;s not as simple as an API call, but it can be done.</p>

<h2>Before We Begin: The Javascript Method</h2>

<p>In case you&#39;re interested, <a href="http://sicanstudios.com/post/recent-posts-scriptogram/">Alex at sicanstudios</a> has a great tutorial on how to retrieve and display your most recent Scriptogr.am posts using javascript.</p>

<h2>The PHP Method</h2>

<p>Scriptogr.am does not have a publicly accessible API. It does, however, provide an XML feed for each user. You can access your feed URL using this format:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">http://scriptogr.am/USERNAME/feed/
</code></pre></div>
<p>If you use PHP&#39;s <code>file_get_contents()</code> and pass it your Scriptogr.am feed URL, you&#39;ll be returned your most recent posts and accompanying metadata in XML form. </p>

<h3>Converting XML to JSON in PHP</h3>

<p>Now that we have the data we want, we&#39;ve got to put it in the format we want (JSON). We can do that using the technique described in <a href="http://lostechies.com/seanbiefeld/2011/10/21/simple-xml-to-json-with-php/">this article from lostechies</a>.</p>

<h2>Cut to the Chase: The Code</h2>

<p>Here&#39;s the final PHP snippet that does everything we&#39;ve described above. Just change the <code>$username</code> value to your own Scriptogr.am username and you&#39;re good to go!</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">function get_scriptogram_JSON() {
    $username = &#39;jimniels&#39;;
    $url = &#39;http://scriptogr.am/&#39;. $username .&#39;/feed/&#39;;
    $fileContents = file_get_contents($url);
    $fileContents = str_replace(array(&quot;\n&quot;, &quot;\r&quot;, &quot;\t&quot;), &#39;&#39;, $fileContents);
    $fileContents = trim(str_replace(&#39;&quot;&#39;, &quot;&#39;&quot;, $fileContents));
    $simpleXml = simplexml_load_string($fileContents);
    $json = json_encode($simpleXml);
    return $json;
}
</code></pre></div>
    </div>


    
        <!-- Footer
        =================================== -->
        <footer class="article-footer">
            
                <p class="tags"> 
                    
                        <a href="/blog/tags/tips/" class="tag">#tips</a>
                    
                </p>
                 

        </footer>
    

</article>
    </main>

    <footer class="footer">
        <p>This is my blog, <a href="/blog/feed.xml">subscribe to it.</a> You can also <a href="http://jim-nielsen.com/" title="Jim Nielsen's portfolio">see my portfolio</a> or <a href="http://twitter.com/jimniels">find me on Twitter</a>.</p>
    </footer>

</body>
</html>