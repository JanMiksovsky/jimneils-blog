<!DOCTYPE html>
<html>
<head>
    
    <!-- Title
    =================================== -->
    <title>Stop Direct Spam Comments in Wordpress</title>

    <!-- Meta
    =================================== -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/feed.xml">

    <!-- CSS
    =================================== -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">

    <!-- Javascript
    =================================== -->
    <script type="text/javascript" src="/blog/assets/js/modernizr.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="/blog/assets/js/js.js"></script>
</head>
<body>

    <!-- Header
    =================================== -->
    <header class="header">
        <a href="/blog/">
            <img src="/blog/assets/img/logo.png" alt="Jim Nielsen" title="Jim Nielsen, Designer" class="site-logo" />
            <h1 class="site-title">Jim Nielsen, Designer</h1>
        </a>
    </header>

    <!-- Navigation
    =================================== -->
    <nav class="navigation hide">
        <ul class="navigation-list">
            <li><a href="/blog/" class="navigation-item">Jim’s Blog</a></li>
            <li><a href="/blog/archive/" class="navigation-item">Archive</a></li>
            <li><a href="/blog/tags/" class="navigation-item">Tags</a></li>
            <li><a href="/blog/feed.xml" class="navigation-item">RSS</a></li>
            <li><a href="#" id="top" class="navigation-item icon-arrow-up">Top</a></li>
            <li><a href="http://jim-nielsen.com/"  class="navigation-item icon-home">Jim’s Portfolio &raquo;</a></li>
            
        </ul>
        <img src="/blog/assets/img/avatar.jpg" width="40" height="40" class="avatar" title="Navigation"/>
    </nav>

    <main class="wrapper">
        <article class="article">

    <!-- Article Header
    =================================== -->
    <header class="article-header">
        <time class="date">22 May, 2013</time>
        <h1 class="title"><a href="/blog/posts/stop-direct-spam-comments-in-wordpress">Stop Direct Spam Comments in Wordpress</a></h1>
        
    </header>


    <!-- Article Content
    =================================== -->
    <div class="content">
        <p>I recently redesigned my wordpress theme for <a href="http://iosicongallery.com">iOS Icon Gallery</a> and <a href="http://macicongallery.com">Mac Icon Gallery</a>. </p>

<p>The old themes provided the ability to comment through the interface. Due to a lack of real comments and a surplus in spam comments, I decided to entirely remove the ability to comment from the interface. </p>

<h2>Removing the Ability to Comment From the Interface Is Not Enough to Keep Out Spam</h2>

<p>Once my theme went live, I was still getting spam comments in the Wordpress backend. I asked myself, &quot;how are comments still appearing in the Wordpress backend when I don&#39;t have a single comment form on my website?&quot; After some Googling, I discovered this was due to spambots posting data directly using <code>wp-comments-post.php</code>. </p>

<p><img src="/blog/assets/img/2013/sneaky.gif" alt="Sneaky Gif"></p>

<h2>Further Stopping Spambots</h2>

<p>To prevent spambots from posting to Wordpress via a URL, you can block access to <code>wp-comments-post.php</code> via the <code>.htaccess</code> file. Simply include these rules in your <code>.htaccess</code> file (thanks to <a href="http://www.catswhocode.com/blog/snippets/blockreduce-wordpress-spam-comments-via-htaccess">catswhocode</a>)</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;IfModule mod_rewrite.c&gt;
    RewriteEngine On
    RewriteCond %{REQUEST_METHOD} POST
    RewriteCond %{REQUEST_URI} .wp-comments-post.php*
    RewriteCond %{HTTP_REFERER} !.*yourdomainname.* [OR]
    RewriteCond %{HTTP_USER_AGENT} ^$
    RewriteRule (.*) ^http://%{REMOTE_ADDR}/$ [R=301,L]
&lt;/IfModule&gt;
</code></pre></div>
<p><strong>Note</strong>: Be sure to change the <code>yourdomainname</code> part!</p>

<h2>That Doesn&#39;t Help You?</h2>

<p>If this doesn&#39;t seem like the best fix for you, try looking at this article from WP Tuts+ detailing <a href="http://wp.tutsplus.com/tutorials/security/6-easy-and-efficient-ways-to-combat-spam-comments/">easy and efficient ways to combat spam comments</a>.</p>

    </div>


    
        <!-- Footer
        =================================== -->
        <footer class="article-footer">
            
                <p class="tags"> 
                    
                        <a href="/blog/tags/tips/" class="tag">#tips</a>
                    
                </p>
                 

        </footer>
    

</article>
    </main>

    <footer class="footer">
        <p>This is my blog, <a href="/blog/feed.xml">subscribe to it.</a> You can also <a href="http://jim-nielsen.com/" title="Jim Nielsen's portfolio">see my portfolio</a> or <a href="http://twitter.com/jimniels">find me on Twitter</a>.</p>
    </footer>

</body>
</html>